{"version":3,"sources":["../src/components/Banner.js","list/index.js"],"names":["Banner","label","cwd","process","rootsBudsGlob","moduleBudsGlob","projectBudsGlob","List","projectBuds","setProjectBuds","length","buds","map","bud","src","require","command","name","source","description","filter","moduleBuds","setModuleBuds","rootsBuds","setRootsBuds","id"],"mappings":"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","file":"index.js","sourceRoot":"../../commands","sourcesContent":["import React from 'react'\nimport {Box, Color, Text} from 'ink'\nimport Link from 'ink-link'\n\n/**\n * Banner component.\n *\n * @prop {string} label\n */\nconst Banner = ({label}) => (\n  <Box marginBottom={1} flexDirection=\"row\" justifyContent=\"space-between\">\n    {label && <Text>{label}</Text>}\n    <Box flexDirection=\"row\">\n      <Text>{`ðŸŒ±`}</Text>\n      <Text bold>\n        <Link url=\"https://roots.io/bud\">\n          <Color green>{'  Bud'}</Color>\n        </Link>\n      </Text>\n    </Box>\n  </Box>\n)\n\nexport default Banner\n","import {basename} from 'path'\nimport React, {useState, useEffect} from 'react'\nimport {Box} from 'ink'\nimport globby from 'globby'\nimport Divider from 'ink-divider'\nimport Banner from './../../src/components/Banner'\n\n/**\n * Budfile glob paths\n */\nconst cwd = process.cwd()\nconst rootsBudsGlob = `${cwd}/node_modules/@roots/bud/src/budfiles/**/*.bud.js`\nconst moduleBudsGlob = `${cwd}/node_modules/**/bud-plugin-*/*.bud.js`\nconst projectBudsGlob = `${cwd}/.bud/**/*.bud.js`\n\n/** Command: bud list */\n/// List available budfiles\nconst List = () => {\n  /**\n   * Project buds\n   */\n  const [projectBuds, setProjectBuds] = useState([])\n  useEffect(() => {\n    projectBuds.length == 0 &&\n      (async () => {\n        const buds = await globby(projectBudsGlob)\n\n        buds &&\n          setProjectBuds(\n            buds\n              .map(bud => {\n                const src = require(bud)\n                return {\n                  command: `yarn generate ${src.name}`,\n                  source: basename(cwd),\n                  name: src.name,\n                  description: src.description,\n                }\n              })\n              .filter(bud => bud.name),\n          )\n      })()\n  }, [])\n\n  /**\n   * Module buds\n   */\n  const [moduleBuds, setModuleBuds] = useState([])\n  useEffect(() => {\n    ;(async () => {\n      const buds = await globby(moduleBudsGlob)\n\n      buds &&\n        setModuleBuds(\n          buds\n            .map(bud => {\n              const src = require(bud)\n\n              return {\n                command: `yarn generate ${src.name}`,\n                source: src.source ? src.source : null,\n                name: src.name,\n                description: src.description,\n              }\n            })\n            .filter(bud => bud.name),\n        )\n    })()\n  }, [])\n\n  /**\n   * Module buds\n   */\n  const [rootsBuds, setRootsBuds] = useState([])\n  useEffect(() => {\n    rootsBuds.length == 0 &&\n      (async () => {\n        const buds = await globby(rootsBudsGlob)\n\n        buds &&\n          setRootsBuds(\n            buds\n              .map(bud => {\n                const src = require(bud)\n                return src.name !== 'bud' && src.name !== 'init'\n                  ? {\n                      command: `yarn generate ${src.name}`,\n                      source: '@roots/bud',\n                      name: src.name,\n                      description: src.description,\n                    }\n                  : {}\n              })\n              .filter(bud => bud.name),\n          )\n      })()\n  }, [])\n\n  const buds = [...projectBuds, ...rootsBuds, ...moduleBuds]\n\n  /**\n   * Render\n   */\n  return (\n    <Box width=\"103\" flexDirection=\"column\" justifyContent=\"flex-start\" padding={1}>\n      <Banner label={'List budfiles'} />\n      <Box flexDirection=\"row\" flexGrow={1} justifyContent=\"flex-start\">\n        <Box width={40}>Command</Box>\n        <Box width={40} marginLeft={1}>\n          Source\n        </Box>\n        <Box width={20} marginLeft={1}>\n          Name\n        </Box>\n      </Box>\n\n      <Divider padding={0} width={100} />\n\n      {buds.map((bud, id) => (\n        <Box key={id} flexDirection=\"row\" flexGrow={1} justifyContent=\"flex-start\">\n          <Box width={40}>{bud.command}</Box>\n          <Box width={40} marginLeft={1}>\n            {bud.source}\n          </Box>\n          <Box width={20} marginLeft={1}>\n            {bud.name}\n          </Box>\n        </Box>\n      ))}\n    </Box>\n  )\n}\n\nexport default List\n"]}