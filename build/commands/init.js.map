{"version":3,"sources":["../src/bud/store.js","../src/bud/containers/Runner/tasks/addDependencies.js","../src/bud/containers/Runner/tasks/install.js","../src/bud/containers/Runner/helpers.js","../src/bud/containers/Runner/Process.js","../src/bud/containers/Runner/Prettify.js","../src/bud/containers/Runner/Write.js","../src/bud/containers/Runner/tasks/json.js","../src/bud/containers/Runner/tasks/scaffold.js","../src/bud/containers/Runner/Read.js","../src/bud/containers/Runner/tasks/template.js","../src/bud/containers/Runner/tasks/index.js","../src/bud/containers/Runner/index.js","../src/bud/containers/Prompts.js","../src/bud/index.js","../src/bud/components/Banner.js","init.js"],"names":["cwd","process","budConfig","require","store","writeDir","projectConfig","label","prompts","data","status","error","complete","ready","search","core","results","plugins","project","Provider","StateProvider","children","state","dispatch","action","type","key","value","execaOptions","addDependencies","task","repo","pkgs","dev","observer","installation","next","execa","command","join","stdout","on","then","install","options","code","helpers","helper","fn","Array","prototype","slice","call","arguments","object","component","indexOf","inverse","components","hasInstance","forEach","Process","string","sprout","handlebars","registerHelper","registerHelpers","compile","Prettify","extension","parsers","js","jsx","graphql","css","json","md","html","htm","ts","tsx","yml","yaml","less","parser","config","arrowParens","bracketSpacing","tabWidth","printWidth","singleQuote","jsxBracketSameLine","useTabs","trailingComma","semi","prettified","Write","target","CWD","file","merge","output","prettyString","err","scaffold","paths","pipe","path","Observable","pathTmp","dirPath","subscribe","Read","console","template","templateDir","prettier","split","length","tasks","Runner","module","setTemplateDir","setStatus","setError","setComplete","actions","JSON","stringify","Prompts","setPrompts","write","Bud","moduleReady","setSprout","description","propTypes","PropTypes","bool","defaultProps","colors","success","Banner","width","spinner","setSpinner","statusColor","setStatusColor","initModule","__dirname","strings","title","Init","projectDir","setLabel","InitCLI","props","positionalArgs"],"mappings":"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","file":"init.js","sourceRoot":"../../commands","sourcesContent":["import React, {createContext, useReducer} from 'react'\n\nconst cwd = process.cwd()\n\n/** app config */\nlet budConfig\ntry {\n  budConfig = require(`${process.cwd()}/.bud/bud.config.json`)\n} catch {\n  budConfig = {}\n}\n\n/**\n * Bud application context\n */\nexport const store = createContext({\n  cwd,\n  writeDir: cwd,\n  projectConfig: {\n    ...budConfig,\n  },\n  label: 'Bud: a modern WordPress scaffolding utility',\n  prompts: null,\n  data: null,\n  status: null,\n  error: null,\n  complete: false,\n  ready: false,\n  search: {\n    core: {\n      results: null,\n      status: null,\n      complete: false,\n    },\n    plugins: {\n      results: null,\n      status: null,\n      complete: false,\n    },\n    project: {\n      results: null,\n      status: null,\n      complete: false,\n    },\n  },\n})\n\nconst {Provider} = store\n\n/**\n * State provider\n */\nexport const StateProvider = ({children}) => {\n  const [state, dispatch] = useReducer((state, action) => {\n    switch (action.type) {\n      case 'SET': {\n        const {key, value} = action\n        return {\n          ...state,\n          [key]: value,\n        }\n      }\n    }\n    switch (action.type) {\n      case 'SET_LABEL': {\n        const {label} = action\n        return {\n          ...state,\n          label,\n        }\n      }\n      case 'SET_PROMPTS': {\n        const {prompts} = action\n        return {\n          ...state,\n          prompts,\n        }\n      }\n      case 'SET_DATA': {\n        const {data} = action\n        return {\n          ...state,\n          data: {\n            ...state.data,\n            ...data,\n          },\n        }\n      }\n      case 'SET_READY': {\n        const {ready} = action\n        return {\n          ...state,\n          ready,\n        }\n      }\n      case 'SET_STATUS': {\n        const {status} = action\n        return {\n          ...state,\n          status,\n        }\n      }\n      case 'SET_ERROR': {\n        const {error} = action\n        return {\n          ...state,\n          error,\n        }\n      }\n      case 'SET_COMPLETE': {\n        const {complete} = action\n        return {\n          ...state,\n          complete,\n        }\n      }\n      case 'SEARCH_RESULTS': {\n        const {results, status, complete} = action\n        return {\n          ...state,\n          search: {\n            ...state.search,\n            [`${action.label}`]: {\n              results,\n              status,\n              complete,\n            },\n          },\n        }\n      }\n    }\n  }, store)\n\n  return <Provider value={{state, dispatch}}>{children}</Provider>\n}\n","import execa from 'execa'\n\nconst execaOptions = {cwd: process.cwd()}\n\n/**\n * Add dependencies\n */\nconst addDependencies = async function ({task: {repo, pkgs, dev}, observer}) {\n  let installation\n\n  observer.next({status: `Installing packages from ${repo}...`})\n\n  if (repo !== 'npm' && repo !== 'packagist') {\n    observer.error(`Incorrect package repo specified.`)\n  }\n\n  if (repo == 'npm') {\n    installation = execa.command(`yarn add ${dev ? `-D` : ``} ${pkgs.join(' ')}`, execaOptions)\n  }\n\n  if (repo == 'packagist') {\n    installation = execa.command(\n      `composer require ${pkgs.join(' ')} ${dev ? `--development` : ``}`,\n      execaOptions,\n    )\n  }\n\n  installation.stdout.on('data', status => {\n    observer.next({status})\n  })\n\n  installation.then(() => observer.complete())\n}\n\nexport default addDependencies\n","import execa from 'execa'\n\nconst install = async ({task: {repo}, writeDir, observer}) => {\n  let installation\n  const options = {cwd: writeDir}\n\n  observer.next({status: `Installing packages from ${repo}...`})\n\n  if (repo !== 'npm' && repo !== 'packagist') {\n    observer.error(`Incorrect package repo specified.`)\n  }\n\n  if (repo == 'npm') {\n    installation = execa.command(`yarn`, options)\n  }\n\n  if (repo == 'packagist') {\n    installation = execa.command(`composer install`, options)\n  }\n\n  installation.stdout.on('data', status => {\n    observer.next({status: status.code})\n  })\n\n  installation.then(() => {\n    observer.complete()\n  })\n}\n\nexport default install\n","/**\n * Handlebars helpers\n */\nconst helpers = data => [\n  {\n    helper: 'array',\n    fn: function () {\n      return Array.prototype.slice.call(arguments, 0, -1)\n    },\n  },\n  {\n    helper: 'has',\n    fn: function (object, component, options) {\n      if (data[object].indexOf(component) > -1) {\n        return options.fn(this)\n      }\n\n      return options.inverse(this)\n    },\n  },\n  {\n    helper: 'hasAny',\n    fn: function (object, components, options) {\n      let hasInstance = false\n\n      if (components) {\n        components.forEach(component => {\n          if (data[object].indexOf(component) > -1) {\n            hasInstance = true\n          }\n        })\n      }\n\n      return hasInstance ? options.fn(this) : options.inverse(this)\n    },\n  },\n  {\n    helper: 'raw',\n    fn: function (options) {\n      return options.fn()\n    },\n  },\n]\n\nexport default helpers\n","/**\n * Handlebars\n */\nimport handlebars from 'handlebars'\nimport handlebarsHelpers from 'handlebars-helpers'\nimport helpers from './helpers'\n\n/**\n * Process Handlebars template\n *\n * @param {string} string\n * @param {object} sprout\n */\nconst Process = async ({observer, string, sprout, data}) => {\n  handlebarsHelpers({handlebars})\n  helpers(data).forEach(({helper, fn}) => {\n    handlebars.registerHelper(helper, fn)\n  })\n\n  sprout?.registerHelpers?.forEach(({helper, fn}) => {\n    handlebars.registerHelper(helper, fn)\n  })\n\n  observer.next({status: `Compiling template`})\n  return await handlebars.compile(string)(data)\n}\n\nexport default Process\n","import {format} from 'prettier'\n\n/**\n * Prettier\n *\n * @param {Observable} observer\n * @param {string} extension\n * @param {string} string\n */\nconst Prettify = async ({observer, string, extension}) => {\n  const parsers = {\n    js: 'babel',\n    jsx: 'babel',\n    graphql: 'graphql',\n    css: 'css',\n    json: 'json',\n    md: 'markdown',\n    html: 'html',\n    htm: 'html',\n    ts: 'typescript',\n    tsx: 'typescript',\n    yml: 'yaml',\n    yaml: 'yaml',\n    less: 'less',\n  }\n\n  const parser = parsers[`${extension}`]\n\n  const config = {\n    arrowParens: 'avoid',\n    bracketSpacing: false,\n    tabWidth: 2,\n    printWidth: 100,\n    singleQuote: true,\n    jsxBracketSameLine: true,\n    useTabs: false,\n    trailingComma: 'all',\n    semi: false,\n    parser,\n  }\n\n  /**\n   * Make prettier.\n   */\n  observer.next(\n    parser ? `Skipping prettier. No support for this extension.` : `Prettifying file output`,\n  )\n\n  const prettified = parser ? format(string, config) : string\n\n  return prettified\n}\n\nexport default Prettify\n","import {outputFile} from 'fs-extra'\n\n/**\n * Write\n *\n * @param {Observer} observer\n * @param {string}   target\n * @param {string}   string\n */\nconst Write = ({observer, target, string}) => {\n  !(observer && target && string)\n    ? observer.next({status: `Waiting for file contents..`})\n    : (() => {\n        observer.next({status: `Writing ${target}`})\n        outputFile(target, string).then(() => {\n          observer.complete()\n        })\n      })()\n}\n\nexport default Write\n","import {join} from 'path'\n\nimport Process from './../Process'\nimport Prettify from './../Prettify'\nimport Write from './../Write'\n\nconst CWD = process.cwd()\n\n/**\n * JSON\n */\nconst json = async ({task: {file, merge}, sprout, data, observer}) => {\n  const json = require(join(CWD, file))\n\n  observer.next({status: `Writing JSON to ${file}`})\n  const output = merge(json)\n\n  try {\n    const string = await Process({\n      observer,\n      string: output,\n      sprout,\n      data,\n    })\n\n    const prettyString = await Prettify({\n      observer,\n      string,\n      extension: 'json',\n    })\n\n    await Write({\n      observer,\n      target: join(CWD, file),\n      string: prettyString,\n    })\n\n    observer.complete()\n  } catch (err) {\n    observer.error(`There was a problem writing to ${file}`)\n  }\n}\n\nexport default json\n","/* eslint-disable react/display-name */\n/* eslint-disable react/jsx-no-undef */\nimport {join} from 'path'\nimport {ensureDir} from 'fs-extra'\nimport {Observable, from} from 'rxjs'\nimport {concatMap} from 'rxjs/operators'\n\nimport Process from './../Process'\n\n/**\n * Task: scaffold dir\n *\n * @prop {object}   task\n * @prop {string}   writeDir\n * @prop {object}   sprout\n * @prop {object}   data\n * @prop {Observer} observer\n */\nconst scaffold = async ({task: {paths}, writeDir, sprout, data, observer}) => {\n  observer.next({status: `Creating directories`})\n  from(paths)\n    .pipe(\n      concatMap(path => {\n        return new Observable(async observer => {\n          try {\n            const pathTmp = await Process({sprout, data, observer, string: path})\n            const dirPath = join(writeDir, pathTmp)\n\n            try {\n              await ensureDir(dirPath).then(() => {\n                observer.complete()\n              })\n            } catch {\n              observer.error(`Scaffolding action throw: ${paths}, ${dirPath}`)\n            }\n          } catch {\n            observer.error(`Action error: scaffold, pathTemplate`)\n          }\n        })\n      }),\n    )\n    .subscribe({\n      next: next => observer.next(next),\n      error: error => observer.error(error),\n      complete: () => observer.complete(),\n    })\n}\n\nexport default scaffold\n","import {readFile} from 'fs-extra'\n\n/**\n * Read file\n *\n * @param {string} templateDir\n * @param {string} template\n */\nconst Read = async ({observer, file}) => {\n  try {\n    observer.next({status: `Reading: ${file}`})\n\n    return await readFile(file, 'utf8')\n  } catch (error) {\n    console.error(error)\n  }\n}\n\nexport default Read\n","import {join} from 'path'\n\nimport Read from './../Read'\nimport Process from './../Process'\nimport Prettify from './../Prettify'\nimport Write from './../Write'\n\n/**\n * Template\n */\nconst template = async ({task, sprout, data, writeDir, templateDir, observer}) => {\n  const string = await Read({\n    observer,\n    file: `${templateDir}/${task.template}`,\n  })\n\n  const template = await Process({\n    observer,\n    string,\n    sprout,\n    data,\n  })\n\n  const prettier = await Prettify({\n    observer,\n    string: template,\n    extension: task.path.split('.')[task.path.split('.').length - 1],\n  })\n\n  const output = await Write({\n    observer,\n    string: prettier,\n    target: join(writeDir, task.path),\n  })\n\n  observer.next({status: output})\n  observer.complete()\n}\n\nexport default template\n","/** tasks */\nimport addDependencies from './addDependencies'\nimport install from './install'\nimport json from './json'\nimport scaffold from './scaffold'\nimport template from './template'\n\nconst tasks = {\n  addDependencies,\n  install,\n  json,\n  scaffold,\n  template,\n}\n\nexport default tasks\n","/* eslint-disable react/display-name */\n/* eslint-disable react/jsx-no-undef */\nimport {join, dirname} from 'path'\nimport React, {useState, useContext, useEffect} from 'react'\nimport {Box, Color, Text} from 'ink'\nimport {Observable, from} from 'rxjs'\nimport {concatMap} from 'rxjs/operators'\n\n/** application */\nimport {store} from './../../store'\nimport tasks from './tasks'\n\n/**\n * Runner\n *\n * @param {object}   data\n * @param {object}   sprout\n * @param {string}   templateDir\n */\nconst Runner = ({sprout, data, module, writeDir}) => {\n  const {state} = useContext(store)\n\n  const [templateDir, setTemplateDir] = useState(null)\n  useEffect(() => {\n    module && setTemplateDir(\n      join(dirname(module), 'templates')\n    )\n  }, [module])\n\n  const [status, setStatus] = useState(null)\n  const [error, setError] = useState(null)\n  const [complete, setComplete] = useState(false)\n  useEffect(() => {\n    state && state.ready &&\n    sprout && sprout.actions &&\n    data && new Observable(observer =>\n      from(sprout.actions)\n        .pipe(\n          concatMap(task => {\n            return new Observable(async observer => {\n              try {\n                return tasks[task.action]({\n                  task,\n                  sprout,\n                  data,\n                  observer,\n                  templateDir,\n                  writeDir,\n                })\n              } catch (error) {\n                observer.error(`${task.action} handler error: ${error}`)\n              }\n            })\n          }),\n        )\n        .subscribe({\n          next: next => observer.next(next),\n          error: error => observer.error(error),\n          complete: () => observer.complete(),\n        }),\n    ).subscribe({\n      next: next => setStatus(next.status),\n      error: error => setError(error),\n      complete: () => setComplete(true),\n    })\n  }, [state, sprout])\n\n  return ! complete ? (\n    <Box flexDirection=\"column\">\n      {status && (\n        <Box flexDirection=\"column\">\n          <Text>\n            <Color green>{status}</Color>\n          </Text>\n        </Box>\n      )}\n\n      {error && (\n        <Box flexDirection=\"column\">\n          <Text>\n            <Color red>{typeof error !== 'string' ? JSON.stringify(error) : error}</Color>\n          </Text>\n        </Box>\n      )}\n    </Box>\n  ) : (\n    <Box>\n      <Text>\n        <Color green>All done.</Color>\n      </Text>\n    </Box>\n  )\n}\n\nexport default Runner\n","import {useState, useEffect, useContext} from 'react'\nimport {prompt} from 'enquirer'\nimport {useStdout} from 'ink'\n\n/** application */\nimport {store} from '../store'\n\n/**\n * Prompts\n */\nconst Prompts = () => {\n  /** @see ink docs */\n  const {stdout} = useStdout()\n  const {state, dispatch} = useContext(store)\n\n  /**\n   * State tracking prompts listed in the\n   * generator file.\n   */\n  const [prompts, setPrompts] = useState(null)\n  useEffect(() => {\n    const prompts = state?.prompts\n    setPrompts(prompts ? prompts : null)\n  }, [state])\n\n  /**\n   * If there are prompts to run then do so\n   * and dispatch the results to the global store.\n   */\n  useEffect(() => {\n    prompts &&\n      prompt(prompts).then(data => {\n        /**\n         * Since enquirer is not\n         * ink-specific it causes duplication of the\n         * application components in stdout.\n         *\n         * This clears the console to mask that issue.\n         *\n         * @todo rewrite enquirer prompts with ink-specific\n         * componentry.\n         */\n        stdout.write('\\x1B[2J\\x1B[0f')\n\n        /**\n         * Dispatch resultant data to the global store,\n         * to be merged with whatever is already there.\n         */\n        dispatch({\n          type: 'SET_DATA',\n          data,\n        })\n\n        /**\n         * Finally, tell the application that the prompts\n         * are finished and we're ready to build the\n         * requested component.\n         */\n        dispatch({\n          type: 'SET_READY',\n          ready: true,\n        })\n      })\n  }, [prompts])\n\n  return []\n}\n\nexport default Prompts\n","import React, {useState, useEffect, useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport {Box} from 'ink'\nimport Spinner from 'ink-spinner'\n\n/** application */\nimport {store} from './store'\nimport Runner from './containers/Runner'\nimport Prompts from './containers/Prompts'\n\n/**\n * Bud Application\n *\n * This container represents the main Bud application.\n *\n * It does not handle the initial command invocation or\n * routing. Rather, the  moduleReady and module props are supplied\n * by a command component, which are housed in the commands dir.\n *\n * @see ink (react cli framework)\n * @see pastel (ink project framework)\n *\n * @prop {bool}   moduleReady\n * @prop {string} module\n * @prop {string} writeDir\n */\nconst Bud = ({moduleReady, module, writeDir}) => {\n  const {state, dispatch} = useContext(store)\n\n  /**\n   * If the command specifies an output dir\n   * stash it to the store.\n   */\n  useEffect(() => {\n    writeDir &&\n      dispatch({\n        type: 'SET',\n        key: 'writeDir',\n        value: `${process.cwd()}/${writeDir}`,\n      })\n  }, [writeDir])\n\n  /**\n   * Load the \"sprout\" from the module file\n   * if the search has concluded.\n   */\n  const [sprout, setSprout] = useState(null)\n  useEffect(() => {\n    moduleReady && module && setSprout(require(module))\n  }, [moduleReady, module])\n\n  /**\n   * If the sprout has a description\n   * then update the application banner.\n   */\n  useEffect(() => {\n    sprout?.description &&\n      dispatch({\n        type: 'SET_LABEL',\n        label: sprout.description,\n      })\n  }, [sprout])\n\n  /**\n   * If the generator has prompts then update the\n   * store with those prompts.\n   */\n  useEffect(() => {\n    state?.writeDir && sprout?.prompts\n      ? dispatch({\n          type: 'SET_PROMPTS',\n          prompts: sprout.prompts,\n        })\n      : dispatch({\n          type: 'SET_READY',\n          ready: true,\n        })\n  }, [sprout])\n\n  /**\n   * Render the main app flow.\n   */\n  return state ? (\n    <Box flexDirection=\"column\">\n      <Prompts />\n      <Runner\n        module={module}\n        writeDir={state.writeDir}\n        sprout={sprout}\n        data={state.data}\n      />\n    </Box>\n  ) : <Box flexDirection=\"row\"><Spinner />{'  Loading'}</Box>\n}\n\nBud.propTypes = {\n  writeDir: PropTypes.string,\n  moduleReady: PropTypes.bool,\n}\n\nBud.defaultProps = {\n  writeDir: null,\n  module: null,\n  moduleReady: false,\n}\n\nexport default Bud\n","import React, {useContext, useEffect, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport {Box, Text, Color} from 'ink'\nimport Link from 'ink-link'\nimport Spinner from 'ink-spinner'\nimport {store} from './../store'\nimport useStdoutDimensions from 'ink-use-stdout-dimensions'\n\nconst colors = {\n  success: '#96EF85',\n  error: '#BE425E',\n}\n\n/**\n * Banner\n *\n * @prop {string} label\n */\nconst Banner = ({label}) => {\n  const {state} = useContext(store)\n  const [width] = useStdoutDimensions()\n  const [spinner, setSpinner] = useState(true)\n  const [status, setStatus] = useState(false)\n  const [statusColor, setStatusColor] = useState('#ffffff')\n  useEffect(() => {\n    if(state?.status && state.status == 'complete') {\n      setStatus('ðŸŽ‰')\n      setStatusColor(colors.success)\n      setSpinner(false)\n    }\n    if(state?.status && state.status == 'error') {\n      setStatus('ðŸ’¢')\n      setStatusColor(colors.error)\n      setSpinner(false)\n    }\n  }, [state])\n\n  return state ? (\n    <Box flexDirection=\"row\" justifyContent=\"space-between\" marginTop={1} width={width - (width/20)}>\n      <Box flexDirection=\"row\" justifyContent=\"space-between\">\n        <Box width={1} marginRight={2}>\n          {spinner ? <Spinner /> : <Text>{status}</Text>}\n        </Box>\n\n        <Box>\n          <Text>\n            <Color hex={statusColor}>\n              {label}\n            </Color>\n          </Text>\n        </Box>\n      </Box>\n\n      <Box flexDirection=\"row\">\n        <Text>{`ðŸŒ±`}</Text>\n        <Box>\n          <Text bold>\n            <Link url=\"https://roots.io/bud\">\n              <Color green>{'Bud'}</Color>\n            </Link>\n          </Text>\n        </Box>\n      </Box>\n    </Box>\n  ) : (\n    <Box><Spinner /> Loading</Box>\n  )\n}\n\nBanner.propTypes = {\n  label: PropTypes.string,\n}\n\nexport default Banner\n","import {resolve} from 'path'\nimport React, {useContext, useEffect, useState} from 'react'\nimport {Box} from 'ink'\nimport PropTypes from 'prop-types'\n\n/** application */\nimport Bud from '../src/bud'\nimport {StateProvider, store} from '../src/bud/store'\nimport Banner from '../src/bud/components/Banner'\n\nconst initModule = resolve(__dirname, './../../src/budfiles/init/init.bud')\n\nconst strings = {\n  title: 'Bud: WordPress CLI generator tooling',\n}\n\n/** Command: bud init */\n/// Create a new project\nconst Init = ({projectDir}) => {\n  const {state} = useContext(store)\n  /**\n   * Update the generator label.\n   */\n  const [label, setLabel] = useState(strings.title)\n  useEffect(() => {\n    state?.label && setLabel(state.label)\n  }, [state?.label])\n\n  return (\n    <Box marginTop={1} flexDirection={'column'}>\n      <Banner label={label} />\n      <Box flexDirection={'column'} marginBottom={1}>\n        <Bud writeDir={projectDir} module={initModule} moduleReady={true} />\n      </Box>\n    </Box>\n  )\n}\n\n/** Command: bud init */\n/// Initialize a Bud project\nconst InitCLI = props => {\n  return (\n    <StateProvider>\n      <Init {...props} />\n    </StateProvider>\n  )\n}\n\nInitCLI.propTypes = {\n  /// Output directory\n  projectDir: PropTypes.string,\n}\n\nInitCLI.positionalArgs = ['projectDir']\n\nexport default InitCLI\n"]}